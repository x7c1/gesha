schemas:
  Sample0:
    type: object
    required:
      - id
      - sample0_nested1
    properties:
      id:
        type: integer
      sample0_nested1:
        allOf:
          - $ref: '#/components/schemas/Foo'
          - $ref: '#/components/schemas/Bar'
  Sample1:
    type: object
    required:
      - id
      - sample1_nested1
    properties:
      id:
        type: integer
      sample1_nested1:
        type: object
        required:
          - sample1_nested2
        properties:
          sample1_nested2:
            allOf:
              - $ref: '#/components/schemas/Foo'
              - $ref: '#/components/schemas/Bar'
  Sample2:
    type: object
    required:
      - id
      - sample2_nested1
    properties:
      id:
        type: integer
      sample2_nested1:
        type: object
        required:
          - sample2_nested2
        properties:
          sample2_nested2:
            allOf:
              - $ref: '#/components/schemas/Foo'
              - type: object
                required:
                  - sample2_nested3
                properties:
                  sample2_nested3:
                    type: object
                    required:
                      - bar
                    properties:
                      bar:
                        $ref: '#/components/schemas/Bar'
  Sample3:
    type: object
    required:
      - id
      - sample0
    properties:
      id:
        type: integer
      sample0:
        description: |
          This is defined to generate `mod sample0`,
          which has the same name as the one generated by `schemas/Sample0`.
        allOf:
          - $ref: '#/components/schemas/Sample0'
          - type: object
            required:
              - sample3_nested1
            properties:
              sample3_nested1:
                type: object
                properties:
                  value1:
                    type: integer
          - $ref: '#/components/schemas/Bar'

  Foo:
    type: object
    required:
      - foo1
      - foo2
    properties:
      foo1:
        type: string
      foo2:
        type: number
  Bar:
    type: object
    required:
      - bar1
      - bar2
    properties:
      bar1:
        type: string
      bar2:
        type: number
